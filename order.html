<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üéÇ Custom Cake Orders</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <style>
    /* --- Fix width + alignment across all fields --- */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #6a11cb, #2575fc); /* same gradient vibe */
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: #fff;
      padding: 28px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      width: min(720px, 100%);
    }

    h1 {
      font-family: 'Playfair Display', serif;
      text-align: center;
      margin: 0 0 8px;
      color: #212121;
    }
    p.subtitle {
      text-align: center;
      margin: 0 0 20px;
      color: #616161;
    }

    .form-step { display: none; }
    .form-step.active { display: block; }

    .group { margin-bottom: 16px; }
    label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: #333;
    }

    /* Normalize all controls to align perfectly */
    input:not([type="checkbox"]):not([type="radio"]),
    select,
    textarea {
      display: block;
      width: 100%;
      min-width: 0;                 /* prevents shrink issues */
      padding: 12px 14px;
      border: 1.5px solid #e5e7eb;
      border-radius: 10px;
      font-size: 15px;
      line-height: 1.4;
      background: #fff;
      color: #111;
      outline: none;
    }

    /* Remove odd browser quirks */
    input[type="number"] { -moz-appearance: textfield; }
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

    /* Date field: keep full width and tidy icon */
    input[type="date"] {
      appearance: none;
      -webkit-appearance: none;
    }

    textarea { resize: vertical; min-height: 84px; }

    .buttons { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 6px; }
    .buttons > button { flex: 1 1 160px; }

    button {
      background: linear-gradient(90deg, #6a11cb, #2575fc);
      border: none;
      color: #fff;
      font-weight: 700;
      padding: 12px 18px;
      border-radius: 10px;
      cursor: pointer;
      transition: transform .06s ease, box-shadow .2s ease;
    }
    button:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(37,117,252,.25); }

    .summary-card {
      border: 1px solid #e5e7eb;
      background: #fafafa;
      border-radius: 12px;
      padding: 16px;
      line-height: 1.7;
    }

    /* Mobile tweaks */
    @media (max-width: 600px) {
      .container { padding: 22px; }
      button { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéÇ Custom Cake Orders</h1>
    <p class="subtitle">Order your perfect custom cake with instant price estimates!</p>

    <!-- Step 1: Customer -->
    <div class="form-step active" id="step1">
      <div class="group">
        <label for="name">Full Name *</label>
        <input type="text" id="name" required />
      </div>
      <div class="group">
        <label for="phone">Phone Number *</label>
        <input type="tel" id="phone" required />
      </div>
      <div class="buttons">
        <button type="button" onclick="showStep(2)">Next ‚û°Ô∏è</button>
      </div>
    </div>

    <!-- Step 2: Cake Information -->
    <div class="form-step" id="step2">
      <div class="group">
        <label for="flavor">Flavor *</label>
        <select id="flavor" required>
          <option value="">-- Select --</option>
          <option>Chocolate</option>
          <option>Vanilla</option>
          <option>Red Velvet</option>
          <option>Butterscotch</option>
          <option>Strawberry</option>
        </select>
      </div>

      <div class="group">
        <label for="tiers">Number of Tiers *</label>
        <select id="tiers" required>
          <option value="">-- Select --</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4+</option>
        </select>
      </div>

      <div class="group">
        <label for="occasion">Occasion *</label>
        <select id="occasion" required>
          <option value="">-- Select --</option>
          <option>Birthday</option>
          <option>Wedding</option>
          <option>Anniversary</option>
          <option>Baby Shower</option>
          <option>Other</option>
        </select>
      </div>

      <div class="group">
        <label for="weight">Weight (kg) *</label>
        <input type="number" id="weight" min="0.5" step="0.5" placeholder="e.g. 1.5" required />
      </div>

      <div class="group">
        <label for="theme">Theme</label>
        <input type="text" id="theme" placeholder="e.g. Cartoon, Floral, Elegant" />
      </div>

      <div class="group">
        <label for="deliveryDate">Delivery Date *</label>
        <input type="date" id="deliveryDate" required />
      </div>

      <div class="group">
        <label for="notes">Additional Notes</label>
        <textarea id="notes" placeholder="Any special instructions?"></textarea>
      </div>

<div class="form-group">
    <label><strong>Estimated Price</strong></label>
    <p id="estimatePrice">‚Äî</p>
</div>

      <div class="buttons">
        <button type="button" onclick="showStep(1)">‚¨ÖÔ∏è Back</button>
        <button type="button" onclick="showStep(3)">Next ‚û°Ô∏è</button>
      </div>
    </div>

    <!-- Step 3: Summary -->
    <div class="form-step" id="step3">
      <div class="summary-card" id="summary"></div>
      <div class="buttons">
        <button type="button" onclick="showStep(2)">‚¨ÖÔ∏è Back</button>
        <button type="button" onclick="sendToWhatsApp()">Send via WhatsApp üì≤</button>
      </div>
    </div>
  </div>

  <script>
function showStep(n) {
  document.querySelectorAll('.form-step').forEach(s => s.classList.remove('active'));
  document.getElementById('step' + n).classList.add('active');

  // When entering step 3, build summary
  if (n === 3) {
    const summaryHTML = `
      <h3>üéÇ NEW CAKE ORDER ENQUIRY</h3>
      <p><strong>üë§ Customer:</strong> ${val('name')}</p>
      <p><strong>üìû Phone:</strong> ${val('phone')}</p>

      <h4>üéÇ Cake Details:</h4>
      <p><strong>Weight:</strong> ${val('weight')} kg</p>
      <p><strong>Flavor:</strong> ${val('flavor')}</p>
      <p><strong>Occasion:</strong> ${val('occasion')}</p>
      <p><strong>Tiers:</strong> ${val('tiers')}</p>
      <p><strong>Theme:</strong> ${val('theme') || 'N/A'}</p>
      <p><strong>Delivery Date:</strong> ${val('deliveryDate')}</p>
      <p><strong>Notes:</strong> ${val('notes') || 'N/A'}</p>
      <p><strong>üí∞ Estimated Price:</strong> ${document.getElementById("estimatePrice").innerText}</p>

    `;
    document.getElementById('summary').innerHTML = summaryHTML;
  }
}

function val(id){ return document.getElementById(id).value; }

  function sendToWhatsApp() {
    const phoneNumber = "918210650013"; // ‚úÖ Replace with your WhatsApp number

    const msg = 
      `üéÇ NEW CAKE ORDER ENQUIRY\n\n` +
      `üë§ Customer: ${val('name')}\n` +
      `üìû Phone: ${val('phone')}\n` +

      `üéÇ Cake Details:\n` +
      `* Weight: ${val('weight')} kg\n` +
      `* Flavor: ${val('flavor')}\n` +
      `* Occasion: ${val('occasion')}\n` +
      `* Theme: ${val('theme') || 'N/A'}\n` +
      `* Delivery Date: ${val('deliveryDate')}\n` +
      `* Notes: ${val('notes') || 'N/A'}\n` +
      `üí∞ Estimated Price: ${document.getElementById("estimatePrice").innerText}\n\n` +

      `üì∏ Image: (Please send reference image separately if any)\n\n` +
      `Please confirm availability and final pricing.`;

    // ‚úÖ Proper encoding so WhatsApp accepts emojis & ‚Çπ
    const encodedMsg = encodeURIComponent(msg);

    // ‚úÖ Open WhatsApp
    window.open(`https://wa.me/${phoneNumber}?text=${encodedMsg}`, "_blank");
  }
function calculatePrice() {
        const flavor = document.getElementById("flavor").value;
        const tiers = parseInt(document.getElementById("tiers").value) || 1;
        const weight = parseFloat(document.getElementById("weight").value) || 1;
        const occasion = document.getElementById("occasion").value;

        // Base price per kg depending on flavor
        let basePrice = 800; // default
        if (flavor === "Chocolate") basePrice = 900;
        else if (flavor === "Red Velvet") basePrice = 1000;
        else if (flavor === "Vanilla") basePrice = 750;

        // Occasion multiplier (e.g., weddings/anniversaries more costly)
        let occasionMultiplier = 1;
        if (occasion === "Wedding") occasionMultiplier = 1.5;
        else if (occasion === "Anniversary") occasionMultiplier = 1.3;

        // Price formula
        let price = weight * basePrice * tiers * occasionMultiplier;

        // Format in INR
        const formatter = new Intl.NumberFormat("en-IN", {
            style: "currency",
            currency: "INR"
        });

        document.getElementById("estimatePrice").innerText = formatter.format(price);
    }

    // Run calculation whenever inputs change
    document.querySelectorAll("#flavor, #tiers, #weight, #occasion")
        .forEach(el => el.addEventListener("change", calculatePrice));

    // Prevent past dates
    (function lockMinDate(){
      const today = new Date().toISOString().split("T")[0];
      document.getElementById("deliveryDate").setAttribute("min", today);
    })();
  </script>
</body>
</html>
